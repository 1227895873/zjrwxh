import{a2 as d,_,d as b,f as T,g as u,h as a,w as l,F as V,E as C,o as E,i as r,j as k,k as F,l as A}from"./index-246d8de8.js";import{E as n,a as P,b as z,c as N}from"./el-table-column-2eb1b86e.js";import{E as $}from"./el-pagination-095be88e.js";import{c as q}from"./cloneDeep-a88c035e.js";const B=e=>d.request({url:"api/interviewType/all",method:"get",data:e}),D=e=>d.request({url:"api/interviewType/delete",params:e}),I=e=>d.request({url:"api/interviewType/add",method:"post",data:e}),L=e=>d.request({url:"api/interviewType/edit",method:"post",data:e}),U=b({data(){return{interviewTypes:[],page:{total:0,current:1,size:10},dialogFormVisible:!1,interviewType:{id:0,typeName:""},formLabelWidth:80}},mounted(){this.getAdtypePage(1)},methods:{toEdit(e){console.log(e),this.dialogFormVisible=!0,this.interviewType=q(e)},getAdtypePage(e){B({current:e,size:2}).then(o=>{console.log(o);const p=o.data.interviewTypes;this.interviewTypes=p,this.page=p}).catch(o=>{console.log(o)})},currentchange(e){this.getAdtypePage(e),this.page.current=e},del(e){console.log(e),D({id:e}).then(o=>{if(o.success)this.getAdtypePage(this.page.current);else return console.log(o.msg),!1}).catch(o=>{})},toAdd(){this.dialogFormVisible=!0},save(){this.interviewType.id==0?I(adcate).then(t=>{if(t.success)this.dialogFormVisible=!1,this.getAdtypePage(this.page.current),n(t.msg);else return n(t.msg),!1}).catch(t=>{n("网络错误联系管理员")}):L(adcate).then(t=>{if(t.success)this.dialogFormVisible=!1,this.getAdtypePage(this.page.current),n(t.msg);else return n(t.msg),!1}).catch(t=>{n("网络错误联系管理员")})}}}),W={class:"interviewTypes"},j={class:"interviewType-tools"},M={class:"dialog-footer"};function G(e,t,o,p,H,J){const s=C,m=N,f=P,y=$,g=k,c=F,h=A,w=z;return E(),T(V,null,[u("div",W,[u("div",j,[a(s,{type:"warning",onClick:e.toAdd},{default:l(()=>[r("添加")]),_:1},8,["onClick"])]),a(f,{data:e.interviewTypes,style:{width:"100%"}},{default:l(()=>[a(m,{fixed:"",prop:"id",label:"编号",width:"120"}),a(m,{prop:"typeName",label:"面试题型"}),a(m,{fixed:"right",label:"操作",width:"120"},{default:l(i=>[a(s,{link:"",type:"primary",size:"small",onClick:v=>e.toEdit(i.row)},{default:l(()=>[r("更新")]),_:2},1032,["onClick"]),a(s,{link:"",type:"primary",size:"small",onClick:v=>e.del(i.row.id)},{default:l(()=>[r("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),a(y,{layout:"prev, pager, next","page-size":e.page.size,total:e.page.total,onCurrentChange:e.currentchange},null,8,["page-size","total","onCurrentChange"])]),a(w,{modelValue:e.dialogFormVisible,"onUpdate:modelValue":t[3]||(t[3]=i=>e.dialogFormVisible=i),title:"面试题型编辑"},{footer:l(()=>[u("span",M,[a(s,{onClick:t[2]||(t[2]=i=>e.dialogFormVisible=!1)},{default:l(()=>[r("Cancel")]),_:1}),a(s,{type:"primary",onClick:e.save},{default:l(()=>[r(" 保存 ")]),_:1},8,["onClick"])])]),default:l(()=>[a(h,{model:e.type},{default:l(()=>[a(c,{label:"编号","label-width":e.formLabelWidth},{default:l(()=>[a(g,{modelValue:e.interviewType.id,"onUpdate:modelValue":t[0]||(t[0]=i=>e.interviewType.id=i),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"]),a(c,{label:"面试题型","label-width":e.formLabelWidth},{default:l(()=>[a(g,{modelValue:e.interviewType.typeName,"onUpdate:modelValue":t[1]||(t[1]=i=>e.interviewType.typeName=i),autocomplete:"off"},null,8,["modelValue"])]),_:1},8,["label-width"])]),_:1},8,["model"])]),_:1},8,["modelValue"])],64)}const S=_(U,[["render",G]]);export{S as default};
